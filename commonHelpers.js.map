{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst searchForm = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\n\nconst createGalleryTemplate = imgData => {\n  return `\n  <li class=\"gallery-card\">\n    <img class=\"gallery-img\" src=\"${imgData.webformatURL}\" alt=\"${imgData.tags}\" />\n<ul class=\"img-info\">\n  <li><p class=\"param-name\">Likes</p>\n  <p>${imgData.likes}</p></li>\n  <li><p class=\"param-name\">Views</p>\n  <p>${imgData.views}</p></li>\n  <li><p class=\"param-name\">Comments</p>\n  <p>${imgData.comments}</p></li>\n  <li><p class=\"param-name\">Downloads</p>\n  <p>${imgData.downloads}</p></li>\n</ul>\n  </li>\n  `;\n};\n\nconst onFormSubmit = event => {\n    event.preventDefault();\n\n  const inputValue = searchForm.elements.query.value;\n\n  fetch(\n    `https://pixabay.com/api/?key=30578441-e990d3db57773391ef0ba167f&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    \n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .then(data => {\n      console.log(data);\n\n      if (data.total === 0) {\n        iziToast.show({\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          messageColor: '#fff',\n          messageSize: '16px',\n          messageLineHeight: '24px',\n          iconUrl: '/img/error.svg',\n          backgroundColor: '#EF4040',\n          maxWidth: '330px',\n          closeOnClick: true,\n          position: 'topRight',\n          progressBarColor: '#B51B1B',\n        })\n      } else {\n          const galleryCardsTemplate = data.hits.map(imgInfo => createGalleryTemplate(imgInfo)).join('');\n\n      galleryEl.innerHTML = galleryCardsTemplate;\n    }\n    })\n    .catch(err => {\n      console.log(err);\n    });\n}\n\n// searchForm.addEventListener('submit', onFormSubmit);\n\n//   const imgItem = event.target.closest('.gallery-image');\n//   const imgSource = imgItem.dataset.source;\n//   const imgInfo = images.find(image => image.original === imgSource);\n\n//   const modalInstance =  basicLightbox.create(\n//     `\n//   <img\n//     class=\"gallery-image\"\n//     src=${imgInfo.original}\n//     data-source=${imgInfo.original}\n//     alt=${imgInfo.description}\n//   />\n//     `\n//   );\n\n//   modalInstance.show();\n// };"],"names":[],"mappings":"0uBAOmB,SAAS,cAAc,iBAAiB,EACzC,SAAS,cAAc,aAAa"}